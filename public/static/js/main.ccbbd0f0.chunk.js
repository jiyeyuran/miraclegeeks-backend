(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a(172)},114:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=(a(114),a(14)),l=a(37),m=a(12),s=a(219),u=a(222),p=a(32),g=a(73),d=a(86),E=a(218),b=a(4),f=a(101),h=a(214),v=a(216),x=a(217),y=a(215),w=Object(b.a)({paper:{marginTop:10,border:"1px solid #d3d4d5"}})(function(e){return r.a.createElement(f.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}),j=Object(b.a)(function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}})(h.a),O=Object(g.a)(function(e){return{avatar:{marginRight:30,width:30,height:30},itemIcon:{minWidth:30}}});var S=function(e){var t=r.a.useState(null),a=Object(i.a)(t,2),n=a[0],o=a[1],c=r.a.useState(["/images/me1_gray.png","/images/me2_gray.png","/images/me3_gray.png","/images/me4_gray.png","/images/me5_gray.png"]),l=Object(i.a)(c,2),m=l[0],s=l[1];function u(e){var t=m.map(function(t,a){return a+1===e?"/images/me".concat(e,".png"):t});s(t)}function p(e){var t=m.map(function(t,a){return a+1===e?"/images/me".concat(e,"_gray.png"):t});s(t)}var g=O();return r.a.createElement("div",null,r.a.createElement(y.a,{alt:"avatar",src:"/images/bitmap5.png","aria-owns":n?"simple-menu":void 0,"aria-haspopup":"true",variant:"contained",color:"primary",className:g.avatar,onMouseOver:function(e){o(e.currentTarget)}}),r.a.createElement(w,{id:"simple-menu",anchorEl:n,open:Boolean(n),onClose:function(){o(null)}},r.a.createElement(j,{onMouseOver:function(){return u(1)},onMouseLeave:function(){return p(1)}},r.a.createElement(v.a,{className:g.itemIcon},r.a.createElement("img",{src:m[0],alt:"participation"})),r.a.createElement(x.a,{primary:"My participation"})),r.a.createElement(j,{onMouseOver:function(){return u(2)},onMouseLeave:function(){return p(2)}},r.a.createElement(v.a,{className:g.itemIcon},r.a.createElement("img",{src:m[1],alt:"application"})),r.a.createElement(x.a,{primary:"My application"})),r.a.createElement(j,{onMouseOver:function(){return u(3)},onMouseLeave:function(){return p(3)}},r.a.createElement(v.a,{className:g.itemIcon},r.a.createElement("img",{src:m[2],alt:"Resume"})),r.a.createElement(x.a,{primary:"Resume"})),r.a.createElement(j,{onMouseOver:function(){return u(4)},onMouseLeave:function(){return p(4)}},r.a.createElement(v.a,{className:g.itemIcon},r.a.createElement("img",{src:m[3],alt:"Settings"})),r.a.createElement(x.a,{primary:"Settings"})),r.a.createElement(j,{onMouseOver:function(){return u(5)},onMouseLeave:function(){return p(5)},onClick:e.logout},r.a.createElement(v.a,{className:g.itemIcon},r.a.createElement("img",{src:m[4],alt:"Logout"})),r.a.createElement(x.a,{primary:"Log out"}))))},k=Object(g.a)(function(e){return{root:{margin:"0 30px",backgroundColor:"#323B54",borderRadius:"14px",padding:"0 10px"},menuButton:{lineHeight:"24px",fontSize:"12px",color:"#C1C6D4",padding:"0 7px",textDecoration:"none"},divider:{color:"#0A1433",width:1,height:10}}});function N(e){var t=k(),a=e.username,n=e.setUsername;return a?r.a.createElement(S,{logout:function(){n("")}}):r.a.createElement("div",{className:t.root},r.a.createElement(m.b,{to:"/passport/login",className:t.menuButton},"Login"),r.a.createElement("span",{className:t.divider},"|"),r.a.createElement(m.b,{to:"/passport/register",className:t.menuButton},"Register"))}var F=Object(g.a)(function(e){return{root:{flexGrow:1,backgroundColor:"#0A1433"},nav:{height:50},left:{height:"100%"},right:{height:"100%"},menuButton:{color:"#ffffff",borderRadius:0,paddingLeft:0,paddingRight:0,marginLeft:100,"&:hover":{borderBottom:"#4988F9 3px solid"}},enterprise:{marginBottom:-5}}});function B(){var e=F();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{color:"inherit",component:m.b,to:"/project",className:e.menuButton},"PROJECT"),r.a.createElement(d.a,{color:"inherit",component:m.b,to:"/company",className:e.menuButton},"COMPANY"),r.a.createElement(d.a,{color:"inherit",component:m.b,to:"/university",className:e.menuButton},"UNIVERSITY"))}function I(){var e=F();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{color:"inherit",component:m.b,to:"/enterprise",className:e.menuButton},"Release Project"),r.a.createElement(d.a,{color:"inherit",component:m.b,to:"/enterprise",className:e.menuButton},"ALL PROJECTS"))}var C=function(e){var t=F(),a=e.username,n=e.setUsername;return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{container:!0,className:t.nav,alignItems:"center",component:s.a},r.a.createElement(E.a,{item:!0,container:!0,xs:!0,alignItems:"center",className:t.left},r.a.createElement(E.a,{item:!0,component:m.b,to:"/project"},r.a.createElement("img",{src:"/images/logo.png",height:22,alt:"logo"})),r.a.createElement(E.a,{item:!0},e.enterprise?r.a.createElement(I,null):r.a.createElement(B,null))),r.a.createElement(E.a,{item:!0,container:!0,xs:!0,alignItems:"center",direction:"row-reverse",className:t.right},!e.enterprise&&r.a.createElement(E.a,{item:!0,component:m.b,to:"/enterprise",height:20,className:t.enterprise},r.a.createElement("img",{src:"/images/enterprise.svg",height:"100%",alt:"enterprise"})),r.a.createElement(E.a,{item:!0},r.a.createElement(N,{username:a,setUsername:n})))))},L=a(29),A=a.n(L),D=a(41),R=a(213),M=a(180),z=a(220),P=a(221),q=a(52),T=a(61),U=a.n(T),_=a(60),W=a.n(_),V=a(42),J=a.n(V),H=Object(g.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},item:{"&:hover":{boxShadow:"0px 0px 14px 0px rgba(198,215,234,1)"}},bigAvatar:{margin:"0 20px",width:90,height:90},intro:{display:"flex"},detail:{color:"#FFFFFF",background:"#6D6D6D","&:hover":{background:"#EDBB18"}}}});var Y=Object(p.withSnackbar)(function(e){var t=H(),a=e.enqueueSnackbar,o=10,c=Object(n.useState)(0),l=Object(i.a)(c,2),s=l[0],u=l[1],p=Object(n.useState)({total:0,projects:[]}),g=Object(i.a)(p,2),d=g[0],b=g[1];r.a.useEffect(function(){function e(){return(e=Object(D.a)(A.a.mark(function e(){var t,n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.post("/api/publicProjects",{page:s/o+1,perPage:o});case 3:t=e.sent,(n=t.data).errcode&&n.errcode>0?a(n.errmsg,{variant:"error"}):b(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[s,a]);var f=d.projects||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{className:t.root},f.map(function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(M.a,{alignItems:"flex-start",className:t.item},r.a.createElement(z.a,null,r.a.createElement(y.a,{alt:e.name,src:e.avatar,className:t.bigAvatar})),r.a.createElement(E.a,{container:!0,spacing:2,alignItems:"center",justify:"space-between"},r.a.createElement(E.a,{item:!0},r.a.createElement(q.a,{gutterBottom:!0,variant:"subtitle1"},e.name),r.a.createElement(q.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},e.description),r.a.createElement(q.a,{variant:"body2",color:"textSecondary",style:{marginTop:20}},r.a.createElement(U.a,{fontSize:"small",style:{verticalAlign:"bottom"}})," period:"," ",r.a.createElement("span",{style:{color:"green"}},e.period," days"))),r.a.createElement(E.a,{item:!0},r.a.createElement(P.a,{variant:"extended",size:"medium",color:"inherit","aria-label":"View",component:m.b,to:"/enterprise/detail",className:t.detail},"View Details")))))})),r.a.createElement(W.a,{limit:o,offset:s,total:d.total,onClick:function(e,t){return u(t)},style:{textAlign:"center"}}))});function Z(){return r.a.createElement("h2",null,"company")}var $=Object(g.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},item:{"&:hover":{boxShadow:"0px 0px 14px 0px rgba(198,215,234,1)"}},bigAvatar:{margin:"0 20px",width:90,height:90},intro:{display:"flex"},detail:{color:"#FFFFFF",background:"#6D6D6D","&:hover":{background:"#EDBB18"}}}});var G=Object(p.withSnackbar)(function(e){var t=$(),a=e.enqueueSnackbar,o=10,c=Object(n.useState)(0),l=Object(i.a)(c,2),s=l[0],u=l[1],p=Object(n.useState)({total:0,projects:[]}),g=Object(i.a)(p,2),d=g[0],b=g[1];r.a.useEffect(function(){function e(){return(e=Object(D.a)(A.a.mark(function e(){var t,n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.post("/api/publicProjects",{page:s/o+1,perPage:o});case 3:t=e.sent,(n=t.data).errcode&&n.errcode>0?a(n.errmsg,{variant:"error"}):b(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[s,a]);var f=d.projects||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{className:t.root},f.map(function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(M.a,{alignItems:"flex-start",className:t.item},r.a.createElement(z.a,null,r.a.createElement(y.a,{alt:e.name,src:e.avatar,className:t.bigAvatar})),r.a.createElement(E.a,{container:!0,spacing:2,alignItems:"center",justify:"space-between"},r.a.createElement(E.a,{item:!0},r.a.createElement(q.a,{gutterBottom:!0,variant:"subtitle1"},e.name),r.a.createElement(q.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},e.description),r.a.createElement(q.a,{variant:"body2",color:"textSecondary",style:{marginTop:20}},r.a.createElement(U.a,{fontSize:"small",style:{verticalAlign:"bottom"}})," period:"," ",r.a.createElement("span",{style:{color:"green"}},e.period," days"))),r.a.createElement(E.a,{item:!0},r.a.createElement(P.a,{variant:"extended",size:"medium",color:"inherit","aria-label":"View",component:m.b,to:"/enterprise/detail",className:t.detail},"View Details")))))})),r.a.createElement(W.a,{limit:o,offset:s,total:d.total,onClick:function(e,t){return u(t)},style:{textAlign:"center"}}))});function K(){return r.a.createElement("h2",null,"University")}var Q=a(223),X=Object(g.a)(function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:250},login:{marginTop:30,background:"#EDBB18"},menu:{width:200}}});var ee=Object(l.d)(Object(p.withSnackbar)(function(e){var t=X(),a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),p=u[0],g=u[1],b=function(){var t=Object(D.a)(A.a.mark(function t(a){var n,r;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,J.a.post("/api/login",{email:c,password:p});case 4:n=t.sent,(r=n.data).errcode&&r.errcode>0?e.enqueueSnackbar("username or password is invalid!",{variant:"error"}):(e.setUsername(r.username),e.history.push("/project")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(E.a,{item:!0},r.a.createElement(q.a,{variant:"h4",gutterBottom:!0},"Welcome\uff01")),r.a.createElement(E.a,{item:!0,style:{alignSelf:"flex-end"}},r.a.createElement(d.a,{component:m.b,to:"/passport/register",variant:"contained",color:"primary",size:"small"},"Register")),r.a.createElement(E.a,{item:!0},r.a.createElement("img",{src:"/images/emoji.png",width:38,alt:"login"})),r.a.createElement(E.a,{item:!0},r.a.createElement("form",{className:t.container,onSubmit:b},r.a.createElement(Q.a,{label:"Email Address",className:t.textField,placeholder:"Email Address",value:c,onChange:function(e){return l(e.target.value)},margin:"normal",required:!0}),r.a.createElement(Q.a,{label:"Password",className:t.textField,placeholder:"Password",value:p,onChange:function(e){return g(e.target.value)},margin:"normal",type:"password",required:!0}),r.a.createElement(P.a,{variant:"extended",size:"medium",color:"secondary","aria-label":"Login",className:t.login,type:"submit"},r.a.createElement("span",{style:{margin:"0 30px"}},"Login")))))}));function te(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var ae=Object(g.a)(function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:250},login:{marginTop:30,background:"#EDBB18"},menu:{width:200}}});var ne=Object(l.d)(Object(p.withSnackbar)(function(e){var t=ae(),a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),p=u[0],g=u[1],b=Object(n.useState)(""),f=Object(i.a)(b,2),h=f[0],v=f[1],x=Object(n.useState)(""),y=Object(i.a)(x,2),w=y[0],j=y[1],O=function(){var t=Object(D.a)(A.a.mark(function t(a){var n,r;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),te(p)){t.next=4;break}return e.enqueueSnackbar("bad email format",{variant:"error"}),t.abrupt("return");case 4:if(h===w){t.next=7;break}return e.enqueueSnackbar("Inconsistent password",{variant:"error"}),t.abrupt("return");case 7:if(!(h.length<6)){t.next=10;break}return e.enqueueSnackbar("the length of password is at least 6",{variant:"error"}),t.abrupt("return");case 10:return t.prev=10,t.next=13,J.a.post("/api/register",{username:c,email:p,password:h});case 13:n=t.sent,(r=n.data).errcode>0?e.enqueueSnackbar(r.errmsg,{variant:"error"}):e.history.push("/passport/login"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(10),console.error(t.t0);case 21:case"end":return t.stop()}},t,null,[[10,18]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(E.a,{item:!0},r.a.createElement(q.a,{variant:"h4",gutterBottom:!0},"Create your account")),r.a.createElement(E.a,{item:!0,style:{alignSelf:"flex-end"}},r.a.createElement(d.a,{component:m.b,to:"/passport/login",variant:"contained",color:"primary",size:"small"},"Login")),r.a.createElement(E.a,{item:!0},r.a.createElement("form",{className:t.container,onSubmit:O,action:"/"},r.a.createElement(Q.a,{label:"Name",className:t.textField,placeholder:"Name",value:c,onChange:function(e){return l(e.target.value)},margin:"normal",required:!0}),r.a.createElement(Q.a,{label:"Email Address",className:t.textField,placeholder:"Email Address",value:p,onChange:function(e){return g(e.target.value)},margin:"normal",required:!0}),r.a.createElement(Q.a,{label:"Password",className:t.textField,placeholder:"Password",value:h,onChange:function(e){return v(e.target.value)},margin:"normal",type:"password",required:!0}),r.a.createElement(Q.a,{error:!!h&&!!w&&h!==w,label:"Confirm Password",className:t.textField,placeholder:"Confirm Password",value:w,onChange:function(e){return j(e.target.value)},margin:"normal",type:"password",required:!0}),r.a.createElement(P.a,{variant:"extended",size:"medium",color:"secondary","aria-label":"Login",className:t.login,type:"submit"},r.a.createElement("span",{style:{margin:"0 30px"}},"Register")))))})),re=Object(g.a)(function(e){return{root:{width:"100%",background:"linear-gradient(to bottom, #E9EDF0, #E9EDF0 40%, #FFFFFF 40%);",height:"calc(100vh - ".concat(e.mixins.toolbar.minHeight,"px)")},main:{width:600,background:"white",boxShadow:"0px 0px 12px 0px rgba(171,184,208,1)",borderRadius:"4px",padding:"40px 20px 80px"}}});function oe(e){var t=re(),a=e.setUsername;return r.a.createElement(E.a,{container:!0,justify:"center",alignItems:"center",className:t.root},r.a.createElement(E.a,{item:!0,className:t.main},r.a.createElement(l.a,{path:"/passport/login",component:function(e){return r.a.createElement(ee,Object.assign({setUsername:a},e))}}),r.a.createElement(l.a,{path:"/passport/register",component:ne})))}var ce=Object(g.a)(function(e){return{root:{margin:"43px 0 20px"},copyRight:{marginTop:"35px",fontSize:"10px",fontFamily:"Avenir-Light",fontWeight:300,color:"rgba(135,135,135,1)",lineHeight:"14px"}}});function ie(){var e=ce();return r.a.createElement(E.a,{container:!0,className:e.root,justify:"center",alignItems:"center",direction:"column"},r.a.createElement(E.a,{item:!0},r.a.createElement("img",{width:117,height:38,src:"/images/logo_footer.png",alt:"logo"})),r.a.createElement(E.a,{item:!0,className:e.copyRight,component:"span"},"Copyright \xa9 2019 search for project"))}function le(e){var t=e.enterprise?"/images/banner_company.png":"/images/banner.png";return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:t,alt:"banner",width:"100%"}),r.a.createElement(s.a,{fixed:!0},r.a.createElement(l.a,{path:"/",exact:!0,component:Y}),r.a.createElement(l.a,{path:"/project",component:Y}),r.a.createElement(l.a,{path:"/company",component:Z}),r.a.createElement(l.a,{path:"/university",component:K}),r.a.createElement(l.a,{path:"/enterprise",component:G})))}var me=Object(l.d)(function(e){var t=e.location.pathname.startsWith("/passport"),a=e.location.pathname.startsWith("/enterprise"),n=r.a.useState(function(){return localStorage.getItem("username")}),o=Object(i.a)(n,2),c=o[0],l=o[1],m=function(e){e?localStorage.setItem("username",e):localStorage.removeItem("username"),l(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{enterprise:a,username:c,setUsername:m}),t?r.a.createElement(oe,{setUsername:m}):r.a.createElement(le,{enterprise:a}),!t&&r.a.createElement(ie,null))});var se=function(){return r.a.createElement(p.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(m.a,null,r.a.createElement(u.a,null),r.a.createElement(me,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[109,1,2]]]);
//# sourceMappingURL=main.ccbbd0f0.chunk.js.map